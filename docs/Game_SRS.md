# 手機策略遊戲需求規格書（SRS）
版本：v0.1  
開發引擎：Godot 4.x（GDScript）  
主要類型：策略 / 陣容搭配 / 關卡制  
畫面形式：2D 直向  

---

## 一、遊戲概述
- **核心理念**：透過陣容搭配與戰略思考，依據不同關卡配置正確組合。  
- **遊戲節奏**：偏快，隨關卡推進增加挑戰性。  
- **核心樂趣**：思考並獲勝的成就感 + 抽卡與養成的延展動力。  
- **主要玩法**：棋盤式拼接戰鬥，玩家選擇圖塊組成 3×3 方陣進行攻擊。  
- **主要目標玩家**：喜歡短時間內進行策略思考的輕度玩家。  

---

## 二、系統設計

### 2.1 棋盤結構
- **結構形式**：2D 陣列（9×9 或實際大小）  
- **格子資料結構**：Dictionary 或 Class，包含：  
  ```gdscript
  {
      "x": int,
      "y": int,
      "tile_id": int,
      "element": "fire" | "water" | "grass" | "light" | "dark",
      "blocked": bool,
      "occupied": bool
  }
  ```
- **特殊棋盤**：關卡中可能存在缺角或牆壁阻擋。

### 2.2 圖塊與英雄
- **屬性表現**：使用 Enum 或常數字串定義。  
- **屬性種類**：火、水、草、光、暗。  
- **隊伍組成**：1 名英雄 + 8 個圖塊。  
- **聯動機制**：屬性符合英雄的直線增加最終輸出。  

### 2.3 戰鬥機制
- **類型**：類回合制（敵人倒數攻擊）。  
- **倒數系統**：敵人顯示倒數數字，有機制可加速倒數。  
- **敵人特性**：分屬性，有機會為複數（1～3）。  
- **技能系統**：每位英雄可有 0～1 個技能，觸發條件依角色而異。  
- **勝利條件**：消滅所有敵人（故事模式）。  
- **傷害計算公式**：  
  ```
  (base_attack + tile_bonus) * element_multiplier * combo_multiplier * special_effects
  ```


---

## 三、資料系統

### 3.1 抽卡系統
- **資料結構**：本地 JSON 卡池表。  
- **內容**：  
  - 稀有度掉落率表。  
  - ID 對應表（圖塊與英雄）。  
- **用途**：抽卡結果與卡池更新。  

### 3.2 關卡與章節
- **載入方式**：每關獨立 JSON + Godot Scene 組合載入。  
- **內容**：敵人設定、棋盤結構、初始倒數、勝利條件等。  
- **更新方式**：定期新增關卡與劇情。  

### 3.3 存檔資料
- **記錄內容**：
  - 關卡進度  
  - 英雄與圖塊收藏  
  - 金幣、體力、抽卡紀錄  
  - 劇情推進狀態  

---

## 四、介面設計

### 4.1 主介面模組
以「拖曳圖塊到棋盤」方式選擇功能：  
- 開始遊戲  
- 隊伍編輯  
- 商店（含抽卡）  
- 設定  

### 4.2 戰鬥畫面
- 上半部顯示敵人與倒數。  
- 下半部為棋盤與四個可用圖塊選擇。  
- 使用後重新抽取新圖塊。  

---

## 五、開發規劃

### 5.1 Demo 範圍
- 棋盤拼接機制  
- 1 名英雄  
- 8 個圖塊  
- 1 個敵人  

### 5.2 開發順序建議
1. 棋盤系統核心實作  
2. 圖塊拼接判定與屬性計算  
3. 戰鬥傷害與敵人倒數邏輯  
4. 基礎 UI（戰鬥畫面）  
5. 抽卡與主介面基礎框架  

### 5.3 測試
- 使用 Godot Debug 工具手動測試。  
- 初期不進行外部玩家測試。  

---

## 六、其他設定
- **是否需網路**：僅於更新或恢復體力時連線。  
- **版本控制**：使用 Git，含 .import 與 .godot 忽略規則。  
- **更新策略**：手動更新 JSON 資料或增補 Scene。  
